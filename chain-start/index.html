<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Starting a local chain | Commercio.network Documentation</title>
    <meta name="description" content="Documentation for the Commercio.network blockchain.">
    <link rel="icon" href="/icon.png">
    
    <link rel="preload" href="/assets/css/0.styles.d6e0b3ae.css" as="style"><link rel="preload" href="/assets/js/app.92aa1b5b.js" as="script"><link rel="preload" href="/assets/js/2.f8d0c909.js" as="script"><link rel="preload" href="/assets/js/7.673e7d99.js" as="script"><link rel="prefetch" href="/assets/js/10.1a1ae0c3.js"><link rel="prefetch" href="/assets/js/11.80a0c00e.js"><link rel="prefetch" href="/assets/js/12.0b8200b4.js"><link rel="prefetch" href="/assets/js/13.da552264.js"><link rel="prefetch" href="/assets/js/14.20ad539f.js"><link rel="prefetch" href="/assets/js/15.47296e81.js"><link rel="prefetch" href="/assets/js/16.2a116f85.js"><link rel="prefetch" href="/assets/js/17.5b3f43f2.js"><link rel="prefetch" href="/assets/js/18.f01fbf10.js"><link rel="prefetch" href="/assets/js/19.574b2fe6.js"><link rel="prefetch" href="/assets/js/20.f7c7f562.js"><link rel="prefetch" href="/assets/js/21.de174e37.js"><link rel="prefetch" href="/assets/js/22.c252baa7.js"><link rel="prefetch" href="/assets/js/23.d0dd31b9.js"><link rel="prefetch" href="/assets/js/24.f5ee4ebb.js"><link rel="prefetch" href="/assets/js/25.f5d92d14.js"><link rel="prefetch" href="/assets/js/26.e025c7fc.js"><link rel="prefetch" href="/assets/js/27.08bc672d.js"><link rel="prefetch" href="/assets/js/28.6bebc5be.js"><link rel="prefetch" href="/assets/js/29.c2419c07.js"><link rel="prefetch" href="/assets/js/3.1523dbe1.js"><link rel="prefetch" href="/assets/js/30.08ed74a6.js"><link rel="prefetch" href="/assets/js/31.631c550b.js"><link rel="prefetch" href="/assets/js/32.71bac1d8.js"><link rel="prefetch" href="/assets/js/33.1a7ec1f2.js"><link rel="prefetch" href="/assets/js/34.47b7f456.js"><link rel="prefetch" href="/assets/js/35.e3a93db2.js"><link rel="prefetch" href="/assets/js/36.52e68eb8.js"><link rel="prefetch" href="/assets/js/37.e7e63df7.js"><link rel="prefetch" href="/assets/js/38.34460c93.js"><link rel="prefetch" href="/assets/js/39.4b398ba1.js"><link rel="prefetch" href="/assets/js/4.e7a08a60.js"><link rel="prefetch" href="/assets/js/40.53998cbd.js"><link rel="prefetch" href="/assets/js/41.c22c0220.js"><link rel="prefetch" href="/assets/js/42.dd611106.js"><link rel="prefetch" href="/assets/js/43.3ad8c7eb.js"><link rel="prefetch" href="/assets/js/44.0b1555c9.js"><link rel="prefetch" href="/assets/js/45.1f02faa1.js"><link rel="prefetch" href="/assets/js/46.34d0e9a5.js"><link rel="prefetch" href="/assets/js/47.d5707337.js"><link rel="prefetch" href="/assets/js/48.afd1b1c3.js"><link rel="prefetch" href="/assets/js/49.a73409f7.js"><link rel="prefetch" href="/assets/js/5.dd6921f1.js"><link rel="prefetch" href="/assets/js/50.65087182.js"><link rel="prefetch" href="/assets/js/51.d96a004c.js"><link rel="prefetch" href="/assets/js/52.cee003f4.js"><link rel="prefetch" href="/assets/js/53.d3d24e05.js"><link rel="prefetch" href="/assets/js/54.91815c69.js"><link rel="prefetch" href="/assets/js/55.b4ac0d5c.js"><link rel="prefetch" href="/assets/js/56.58f0d2be.js"><link rel="prefetch" href="/assets/js/57.1e59db09.js"><link rel="prefetch" href="/assets/js/58.8092cea6.js"><link rel="prefetch" href="/assets/js/59.d12f5887.js"><link rel="prefetch" href="/assets/js/6.0aa24318.js"><link rel="prefetch" href="/assets/js/60.c7c525d7.js"><link rel="prefetch" href="/assets/js/61.a6bb1fc2.js"><link rel="prefetch" href="/assets/js/62.18273bb6.js"><link rel="prefetch" href="/assets/js/63.e080235f.js"><link rel="prefetch" href="/assets/js/8.8e545096.js"><link rel="prefetch" href="/assets/js/9.1c98f2a1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d6e0b3ae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Commercio.network Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://commercio.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Commercio.network
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/commercionetwork/commercionetwork" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://commercio.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Commercio.network
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/commercionetwork/commercionetwork" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Nodes</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nodes/" class="sidebar-link">Introduction</a></li><li><a href="/nodes/hardware-requirements.html" class="sidebar-link">Hardware requirements</a></li><li><a href="/nodes/full-node-installation.html" class="sidebar-link">Installing a full node</a></li><li><a href="/nodes/validator-node-installation.html" class="sidebar-link">Becoming a validator</a></li><li><a href="/nodes/validator-node-update.html" class="sidebar-link">Updating a validator</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>App Developers</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/app_developers/" class="sidebar-link">Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Sdk Developers</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/developers/" class="sidebar-link">Introduction</a></li><li><a href="/developers/create-sign-broadcast-tx.html" class="sidebar-link">Create, sign and send a transaction</a></li><li><a href="/developers/message-types.html" class="sidebar-link">Supported messages types</a></li><li><a href="/developers/listing-transactions.html" class="sidebar-link">Listing past transactions</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Modules</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/x/bank/" class="sidebar-link">Bank</a></li><li><a href="/x/docs/" class="sidebar-link">Docs</a></li><li><a href="/x/government/" class="sidebar-link">Government</a></li><li><a href="/x/id/" class="sidebar-link">Id</a></li><li><a href="/x/memberships/" class="sidebar-link">Memberships</a></li><li><a href="/x/commerciomint/" class="sidebar-link">CommercioMint</a></li><li><a href="/x/pricefeed/" class="sidebar-link">Pricefeed</a></li><li><a href="/x/vbr/" class="sidebar-link">VBR</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="starting-a-local-chain"><a href="#starting-a-local-chain" class="header-anchor">#</a> Starting a local chain</h1> <p>Inside the following page you will learn how to start a new Commercio.network chain that might be useful to you
in order to perform some tests without connecting to the testnet or mainnet.</p> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>In order to start a local test chain you will need to install the latest <code>cnd</code> and <code>cncli</code> binaries.
To do so, please execute the following commands:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/commercionetwork/commercionetwork
<span class="token builtin class-name">cd</span> commercionetwork
<span class="token function">make</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>The output should look like the following:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>GO111MODULE=on go install -tags &quot; ledger&quot; ./cmd/cnd
GO111MODULE=on go install -tags &quot; ledger&quot; ./cmd/cncli
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Now, you should be able to execute the following command:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cnd version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>If the version number is printed properly, you are ready to go.</p> <h2 id="chain-starting"><a href="#chain-starting" class="header-anchor">#</a> Chain starting</h2> <p>In order to start the chain, the following steps must be performed:</p> <ol><li><a href="#1-resetting-previous-instances">Resetting previous instances</a></li> <li><a href="#2-init-a-new-chain">Init a new chain</a></li> <li><a href="#3-setup-the-genesis-data">Setup the genesis data</a></li> <li><a href="#4-collect-the-genesis-transactions">Collect the genesis transactions</a></li> <li><a href="#5-start-the-chain">Start the chain</a></li></ol> <h3 id="_1-resetting-previous-instances"><a href="#_1-resetting-previous-instances" class="header-anchor">#</a> 1. Resetting previous instances</h3> <p>In order to start a chain without any problem, you will need to reset everything.
To do so, execute the following commands:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">rm</span> -r ~/.cnd
cnd unsafe-reset-all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This will remove all the previous chain data so please make sure to backup
the <code>~/.cnd</code> folder just in case you need the data back later.</p></div> <h3 id="_2-init-a-new-chain"><a href="#_2-init-a-new-chain" class="header-anchor">#</a> 2. Init a new chain</h3> <p>To initialize a new chain, please execute the following command:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cnd init testchain --overwrite
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_3-setup-the-genesis-data"><a href="#_3-setup-the-genesis-data" class="header-anchor">#</a> 3. Setup the genesis data</h3> <p>Now that you have initialized the new chain, you need to set some genesis data.<br>
To do so we will use some commands that require you to have a local account key name and password.
If you haven't create one yet, please do it know by executing</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>cncli keys <span class="token function">add</span> jack
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>After this command, please insert a password that will be later used.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>While creating a local key please use a password that you will remember easily as it will be used
often later during the procedure.</p></div> <p>The output to the previous command should look something like the following:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>- name: jack
  type: local
  address: did:com:15erw8aqttln5semks0vnqjy9yzrygzmjwh7vke
  pubkey: did:com:pub1addwnpepqgkyyqvz2e3um89luc34wt4rlhv63jlgky6eyvc4x57ee8hngl8z2h3d3zn
  mnemonic: &quot;&quot;
  threshold: 0
  pubkeys: []


**Important** write this mnemonic phrase in a safe place.
It is the only way to recover your account if you ever forget your password.

middle vanish genre gorilla label insane east need holiday fringe odor ice permit hen art benefit amazing worry evoke pigeon project van unfold fantasy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Once you have create a local key, you can execute the following commands:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># Add some funds to the account</span>
cnd add-genesis-account <span class="token variable"><span class="token variable">$(</span>cncli keys show jack --address<span class="token variable">)</span></span> 10000000000000ucommercio

<span class="token comment"># Set the account to be the government</span>
cnd set-genesis-government-address <span class="token variable"><span class="token variable">$(</span>cncli keys show jack --address<span class="token variable">)</span></span>

<span class="token comment"># Set the initial TBR pool amount</span>
cnd set-genesis-tbr-pool-amount 10000000000ucommercio

<span class="token comment"># Optional - Set the account to be a membership minter</span>
cnd add-genesis-membership-minter <span class="token variable"><span class="token variable">$(</span>cncli keys show jack --address<span class="token variable">)</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>After executing those commands, make sure your genesis file is valid by executing</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>cnd validate-genesis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This should output something similar to the following text:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>validating genesis file at /home/user/.cnd/config/genesis.json
File at /home/user/.cnd/config/genesis.json is a valid genesis file
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_4-collect-the-genesis-transactions"><a href="#_4-collect-the-genesis-transactions" class="header-anchor">#</a> 4. Collect the genesis transactions</h3> <p>Once you've setup the genesis file, you can create the genesis transaction and collect it.
To do so, please run</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>cnd gentx --name jack --amount 100000000ucommercio
cnd collect-gentxs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_5-start-the-chain"><a href="#_5-start-the-chain" class="header-anchor">#</a> 5. Start the chain</h3> <p>Once all the genesis transactions have been created, you can start the chain by running</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>cnd start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You should now be able to see an output that looks something like the following:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>I[2019-09-19|10:26:06.651] Starting ABCI with Tendermint                module=main 
I[2019-09-19|10:26:12.034] Executed block                               module=state height=1 validTxs=0 invalidTxs=0
I[2019-09-19|10:26:12.046] Committed state                              module=state height=1 txs=0 appHash=522AF70477C8C53361489DB2D592BF66C37E76C52A42DC7AE8230AD76EF3B54F
I[2019-09-19|10:26:17.128] Executed block                               module=state height=2 validTxs=0 invalidTxs=0
I[2019-09-19|10:26:17.140] Committed state                              module=state height=2 txs=0 appHash=8BD8E4D3D66A60C37B1AE721E2C7B259C36A65209575A548CB4D09BEF0B0E42E
...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/commercionetwork/commercionetwork/edit/master/docs/chain-start/README.md" target="_blank" rel="noopener noreferrer">Edit this page on Github</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/14/2019, 10:32:36 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.92aa1b5b.js" defer></script><script src="/assets/js/2.f8d0c909.js" defer></script><script src="/assets/js/7.673e7d99.js" defer></script>
  </body>
</html>
